(function($){function ProximityGlow(config){this.init(config)}ProximityGlow.prototype={maxBlurSize:180,color:"#fff",inverse:true,shadowType:"box-shadow",constructor:ProximityGlow,el:null,init:function(config){$.extend(this,config)},dataName:"proximity-glow",maxD:0,middleX:0,middleY:0,handleMove:function(event){var dis=pythag(event.pageX,event.pageY,this.middleX,this.middleY);if(this.inverse){var xyper=1-dis/this.maxD}else{var xyper=dis/this.maxD}var glow=xyper*this.maxBlurSize;glow=Math.round(glow);var spread=glow/2;var $gb=this.el;if(this.shadowType==="box-shadow"){$gb.css(this.shadowType,"0 0 "+glow+"px"+" "+spread+"px "+this.color)}else if(this.shadowType==="text-shadow"){$gb.css(this.shadowType,"0px 0px "+glow+"px"+" "+this.color)}}};var pythag=function(x1,y1,x2,y2){var x=x2-x1;var y=y2-y1;var a=x*x+y*y;return Math.sqrt(a)};$.fn.proximityGlow=function(configOrCommand){var dataName=ProximityGlow.prototype.dataName;return this.each(function(){var el=$(this),instance=el.data(dataName),config=$.isPlainObject(configOrCommand)?configOrCommand:{};var initialConfig=$.extend({},el.data());config=$.extend(initialConfig,config);config.el=el;instance=new ProximityGlow(config);var $gb=el;var position=$gb.offset();var realWidth=$gb.outerWidth();var realHeight=$gb.outerHeight();instance.middleX=position.left+realWidth/2;instance.middleY=position.top+realHeight/2;var $d=$(document);var dw=$d.width();var dh=$d.height();instance.maxD=pythag(instance.middleX,instance.middleY,dw,dh);$(document).mousemove(function(event){instance.handleMove(event)});el.data(dataName,instance)})}})(jQuery);
